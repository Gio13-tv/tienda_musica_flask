<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Productos - Admin</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        body { background:#eef1f7; font-family: Arial; }
        .container {
            max-width:1100px;
            margin:40px auto;
            padding:30px;
            background:white;
            border-radius:20px;
            box-shadow:0 10px 35px rgba(0,0,0,0.15);
        }
        h1 { text-align:center; margin-bottom:20px; }
        .header-buttons {
            display:flex;
            justify-content:space-between;
            margin-bottom:20px;
        }
        .btn {
            padding:10px 18px;
            border-radius:10px;
            text-decoration:none;
            color:white;
            font-weight:bold;
        }
        .btn-back { background:#764ba2; }
        .btn-new { background:#2ecc71; }

        table { width:100%; border-collapse:collapse; }
        th {
            background:#764ba2;
            color:white;
            padding:12px;
        }
        td {
            padding:12px;
            border-bottom:1px solid #ddd;
            text-align:center;
        }
        img { width:80px; height:80px; object-fit:cover; border-radius:8px; }
        .actions { display:flex; justify-content:center; gap:10px; }
        .actions a, .actions button {
            padding:6px 12px;
            border:none;
            background:#667eea;
            color:white;
            border-radius:6px;
            text-decoration:none;
            cursor:pointer;
            font-size:1rem;
        }
        .actions button { background:#e63946; }
    </style>
</head>

<body>

<div class="container">

<h1>Productos</h1>

<div class="header-buttons">
    <a href="{{ url_for('admin_dashboard') }}" class="btn btn-back">‚Üê Volver</a>
    <a href="{{ url_for('admin_producto_nuevo') }}" class="btn btn-new">+ Nuevo</a>
</div>

<table>
    <tr>
        <th>ID</th>
        <th>Imagen</th>
        <th>Nombre</th>
        <th>Precio</th>
        <th>Acciones</th>
    </tr>

    {% for p in productos %}
    <tr>
        <td>{{ p[0] }}</td>

        <td>
            <img src="{{ url_for('static', filename='images/' ~ (p[3] if p[3] else 'no-image.png')) }}">
        </td>

        <td>{{ p[1] }}</td>
        <td>${{ "%.2f"|format(p[2]) }}</td>

        <td class="actions">
            <a href="{{ url_for('admin_producto_editar', producto_id=p[0]) }}">‚úèÔ∏è</a>

            <form action="{{ url_for('admin_producto_eliminar', producto_id=p[0]) }}" method="POST">
                <button>üóëÔ∏è</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>

</div>

</body>
</html>
